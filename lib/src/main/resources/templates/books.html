<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">    
    <table class="table table-hover shadow-sm">
        <thead class="table-primary">
        <tr>
            <th>ID</th>
            <th>T√™n s√°ch</th>
            <th>T√°c gi·∫£</th>
            <th>Ng√†y Public</th>
            <th>S·ªë l∆∞·ª£ng</th>
            <th th:if="${session.user != null and session.user.role == 'ADMIN'}">Thao t√°c</th>
            <th>Xem chi ti·∫øt</th>
        </tr>
        </thead>

        <tbody>
        <tr th:each="b : ${books}">
            <td th:text="${b.id}"></td>
            <td th:text="${b.title}"></td>
            <td th:text="${b.author}"></td>
            <td th:text="${b.publishDate}"></td>
            <td th:text="${b.quantity}"></td>

            <!-- C·ªôt ch·ªâ hi·ªán n·∫øu l√† admin -->
            <td th:if="${session.user != null and session.user.role == 'ADMIN'}">
                <a th:href="@{'/books/edit/' + ${b.id}}" class="btn btn-warning btn-sm">‚úèÔ∏è S·ª≠a</a>
                <a th:href="@{'/books/delete/' + ${b.id}}" class="btn btn-danger btn-sm" onclick="return confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a s√°ch n√†y kh√¥ng?');">üóëÔ∏è X√≥a</a>
            </td>

            <td>
                <a th:href="@{'/book_detail/' + ${b.id}}" class="btn btn-info btn-sm">üîç Xem</a>
            </td>
        </tr>
        </tbody>
    </table>

    <!-- N√∫t Th√™m s√°ch ch·ªâ cho ADMIN -->
    <div th:if="${session.user != null and session.user.role == 'ADMIN'}" class="mt-3">
        <a th:href="@{/books/add}" class="btn btn-primary">+ Th√™m s√°ch</a>
    </div>
</div>

</body>
</html>
